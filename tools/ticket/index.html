<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#f5f5f7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Âè´Âè∑‰∏ìÊ≥®</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Tab Bar Navigation -->
    <nav class="tab-bar" id="tabBar">
        <button class="tab-item active" data-view="listView">
            <span class="tab-icon todo-icon"></span>
            <span class="tab-label">ÂæÖÂäû</span>
        </button>
        <button class="tab-item" data-view="accountView">
            <span class="tab-icon account-icon"></span>
            <span class="tab-label">Ë¥¶Êà∑</span>
        </button>
    </nav>

    <!-- Todo List View -->
    <div class="view" id="listView">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="title">ÂæÖÂäû</h1>
                <p class="subtitle" id="todoCount">0 ‰∏™‰ªªÂä°</p>
            </div>
            <button class="theme-btn" id="themeToggle" aria-label="ÂàáÊç¢‰∏ªÈ¢ò">
                <span class="theme-icon"></span>
            </button>
        </header>

        <!-- Main Content -->
        <main class="container">
            <!-- Todo List -->
            <div class="todo-list" id="todoList">
                <!-- Todos will be inserted here dynamically -->
            </div>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState">
                <div class="empty-illustration">
                    <div class="empty-ticket"></div>
                </div>
                <div class="empty-text">ÊöÇÊó†ÂæÖÂäû</div>
                <div class="empty-hint">ÁÇπÂáª‰∏ãÊñπÊ∑ªÂä†ÊÇ®ÁöÑÁ¨¨‰∏Ä‰∏™‰ªªÂä°</div>
            </div>
        </main>

        <!-- Floating Add Button -->
        <div class="fab-container">
            <div class="input-wrapper">
                <div class="project-tags-wrapper">
                    <div class="project-tags" id="projectTags">
                        <button class="project-tag active" data-id="">
                            <span class="tag-dot" style="background: var(--text-tertiary)"></span>
                            <span>Êó†È°πÁõÆ</span>
                        </button>
                        <!-- Project tags will be inserted here -->
                    </div>
                </div>
                <div class="input-row">
                    <input 
                        type="text" 
                        id="todoInput" 
                        class="todo-input" 
                        placeholder="ËæìÂÖ•‰ªªÂä°ÂêçÁß∞..."
                        autocomplete="off"
                    />
                    <button class="fab" id="addBtn" aria-label="Ê∑ªÂä†‰ªªÂä°">
                        <span class="fab-icon"></span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Account/Stats View -->
    <div class="view hidden" id="accountView">
        <header class="header">
            <div class="header-content">
                <h1 class="title">Ë¥¶Êà∑</h1>
                <p class="subtitle">‰∏ìÊ≥®Êî∂ÁõäÊÄªËßà</p>
            </div>
            <button class="theme-btn" id="themeToggleAccount" aria-label="ÂàáÊç¢‰∏ªÈ¢ò">
                <span class="theme-icon"></span>
            </button>
        </header>

        <main class="container account-container">
            <!-- Account Card -->
            <div class="account-card">
                <div class="account-header">
                    <div class="account-logo">
                        <span>üí∞</span>
                    </div>
                    <div class="account-info">
                        <div class="account-name">‰∏ìÊ≥®Èì∂Ë°å</div>
                        <div class="account-number">Êó∂Èó¥ÂÇ®ËìÑË¥¶Êà∑</div>
                    </div>
                </div>
                <div class="account-balance">
                    <div class="balance-label">ÊÄª‰∏ìÊ≥®Êó∂Èïø</div>
                    <div class="balance-value" id="totalBalance">0Â∞èÊó∂0ÂàÜ</div>
                </div>
                <div class="account-meta">
                    <span id="completedCount">Â∑≤ÂÆåÊàê 0 È°π‰ªªÂä°</span>
                </div>
            </div>

            <!-- Period Stats -->
            <div class="stats-section">
                <div class="section-header">
                    <h2 class="section-title">Êî∂ÁõäÊòéÁªÜ</h2>
                </div>
                <div class="period-tabs">
                    <button class="period-tab active" data-period="today">‰ªäÊó•</button>
                    <button class="period-tab" data-period="week">Êú¨Âë®</button>
                    <button class="period-tab" data-period="month">Êú¨Êúà</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon time-icon">‚è±</div>
                        <div class="stat-content">
                            <div class="stat-value" id="periodTime">0ÂàÜ</div>
                            <div class="stat-label">‰∏ìÊ≥®Êó∂Èïø</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon task-icon">‚úì</div>
                        <div class="stat-content">
                            <div class="stat-value" id="periodTasks">0</div>
                            <div class="stat-label">ÂÆåÊàê‰ªªÂä°</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon avg-icon">üìä</div>
                        <div class="stat-content">
                            <div class="stat-value" id="periodAvg">0ÂàÜ</div>
                            <div class="stat-label">Âπ≥ÂùáÊó∂Èïø</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon streak-icon">üî•</div>
                        <div class="stat-content">
                            <div class="stat-value" id="periodSessions">0</div>
                            <div class="stat-label">‰∏ìÊ≥®Ê¨°Êï∞</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Projects Section -->
            <div class="projects-section">
                <div class="section-header">
                    <h2 class="section-title">È°πÁõÆË¥¶Êà∑</h2>
                    <button class="add-project-btn" id="addProjectBtn">
                        <span>+</span>
                    </button>
                </div>
                <div class="projects-list" id="projectsList">
                    <!-- Projects will be inserted here dynamically -->
                </div>
                <div class="empty-projects" id="emptyProjects">
                    <p>ÊöÇÊó†È°πÁõÆÔºåÁÇπÂáªÂè≥‰∏äËßíÊ∑ªÂä†</p>
                </div>
            </div>

            <!-- Recent Records -->
            <div class="records-section">
                <div class="section-header">
                    <h2 class="section-title">‰∫§ÊòìËÆ∞ÂΩï</h2>
                </div>
                <div class="records-list" id="recordsList">
                    <!-- Records will be inserted here dynamically -->
                </div>
                <div class="empty-records" id="emptyRecords">
                    <p>ÊöÇÊó†ÂÆåÊàêËÆ∞ÂΩï</p>
                </div>
            </div>
        </main>
    </div>

    <!-- Focus/Timer View -->
    <div class="view hidden" id="focusView">
        <header class="focus-header">
            <button class="back-btn" id="backBtn" aria-label="ËøîÂõû">
                <span class="back-icon"></span>
                <span class="back-text">ËøîÂõû</span>
            </button>
            <button class="theme-btn" id="themeToggleFocus" aria-label="ÂàáÊç¢‰∏ªÈ¢ò">
                <span class="theme-icon"></span>
            </button>
        </header>

        <!-- Bank Ticket Style Display -->
        <div class="ticket-container">
            <div class="ticket">
                <!-- Ticket Top Decoration -->
                <div class="ticket-top-edge"></div>
                
                <div class="ticket-inner">
                    <!-- Bank Logo Style Header -->
                    <div class="ticket-brand-section">
                        <div class="ticket-logo">
                            <span class="logo-icon">‚è±</span>
                        </div>
                        <div class="ticket-brand">‰∏ìÊ≥®Èì∂Ë°å</div>
                        <div class="ticket-branch" id="ticketBranch">Êó∂Èó¥ÁÆ°ÁêÜ‰∏≠ÂøÉ</div>
                    </div>

                    <!-- Ticket Number Section - Main Focus -->
                    <div class="ticket-number-section">
                        <div class="ticket-label">ËØ∑‰øùÁÆ°Â•ΩÊÇ®ÁöÑÂè∑Á†Å</div>
                        <div class="ticket-number-wrapper">
                            <div class="ticket-number" id="ticketNumber">A001</div>
                        </div>
                        <div class="ticket-date" id="ticketDate"></div>
                    </div>

                    <!-- Divider with perforation effect -->
                    <div class="ticket-perforation"></div>

                    <!-- Task Info Section -->
                    <div class="ticket-task-section">
                        <div class="task-label">‰∏öÂä°Á±ªÂûã</div>
                        <div class="task-name" id="ticketTaskName">‰ªªÂä°ÂêçÁß∞</div>
                    </div>

                    <!-- Timer Section -->
                    <div class="timer-section">
                        <div class="timer-ring">
                            <svg class="timer-svg" viewBox="0 0 200 200">
                                <circle class="timer-bg" cx="100" cy="100" r="90"/>
                                <circle class="timer-progress" cx="100" cy="100" r="90" id="timerProgress"/>
                            </svg>
                            <div class="timer-content">
                                <div class="timer-display" id="timerDisplay">00:00</div>
                                <div class="timer-label">Â∑≤Á≠âÂÄô</div>
                            </div>
                        </div>
                    </div>

                    <!-- Control Buttons -->
                    <div class="timer-controls">
                        <button class="control-btn start-btn" id="startBtn">
                            <span class="btn-icon play-icon"></span>
                            <span class="btn-text">ÂºÄÂßã</span>
                        </button>
                        <button class="control-btn pause-btn hidden" id="pauseBtn">
                            <span class="btn-icon pause-icon"></span>
                            <span class="btn-text">ÊöÇÂÅú</span>
                        </button>
                        <button class="control-btn reset-btn" id="resetBtn">
                            <span class="btn-icon reset-icon"></span>
                            <span class="btn-text">ÈáçÁΩÆ</span>
                        </button>
                    </div>

                    <!-- Completion Section -->
                    <div class="completion-section hidden" id="completionSection">
                        <button class="complete-btn" id="completeBtn">
                            <span class="complete-icon"></span>
                            <span>ÂÆåÊàê‰ªªÂä°</span>
                        </button>
                    </div>
                </div>

                <!-- Ticket Bottom Decoration -->
                <div class="ticket-bottom-edge"></div>
            </div>
        </div>
    </div>

    <!-- Add Project Modal -->
    <div class="modal hidden" id="projectModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Êñ∞Âª∫È°πÁõÆ</h3>
                <button class="modal-close" id="closeProjectModal">√ó</button>
            </div>
            <div class="modal-body">
                <input 
                    type="text" 
                    id="projectNameInput" 
                    class="modal-input" 
                    placeholder="ËæìÂÖ•È°πÁõÆÂêçÁß∞..."
                    autocomplete="off"
                />
                <div class="color-picker">
                    <label>ÈÄâÊã©È¢úËâ≤</label>
                    <div class="color-options" id="colorOptions">
                        <button class="color-option active" data-color="#ff6b35" style="background:#ff6b35"></button>
                        <button class="color-option" data-color="#007aff" style="background:#007aff"></button>
                        <button class="color-option" data-color="#34c759" style="background:#34c759"></button>
                        <button class="color-option" data-color="#ff9500" style="background:#ff9500"></button>
                        <button class="color-option" data-color="#af52de" style="background:#af52de"></button>
                        <button class="color-option" data-color="#ff2d55" style="background:#ff2d55"></button>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn cancel-btn" id="cancelProject">ÂèñÊ∂à</button>
                <button class="modal-btn confirm-btn" id="confirmProject">ÂàõÂª∫</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
